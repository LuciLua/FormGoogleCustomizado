<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Form Custom</title>
    <link rel="stylesheet" href="style.css" type="text/css">
</head>
<body>
    <div class="form">
        <div><h1 id="notice" style="font-size: 14px; background-color: rgba(88, 225, 104, 0.809); color: #fff; font-family: Arial, Helvetica, sans-serif; font-weight: 700; padding: 14px 20px; border-radius: 12px; margin-bottom: 12px; display: none;">
            Enviado com sucesso!
        </h1></div>
        <div><h1 id="notice-falha" style="font-size: 14px; background-color: rgba(225, 88, 88, 0.809); color: #fff; font-family: Arial, Helvetica, sans-serif; font-weight: 700; padding: 14px 20px; border-radius: 12px; display: none;">
            Erro ao enviar!
        </h1></div>
        <div class="texto">
            <h1 class="">
                Inscreva-se agora!
            </h1>
            <h2>
                fa√ßa parte da comunidade!
            </h2>
        </div>
        <form action="https://docs.google.com/forms/d/e/1FAIpQLSfwbYPWebYtW83yYf6xT_K_Yhm9yF18bxh6LwcRIjgSUMDl5Q/formResponse" target="prox" method="POST">
            <label for="email"></label>
            <input type="text" id="email" placeholder="Seu melhor e-mail" required 
            name="entry.1597696387">
            <button id="send">Send</button>
            <p id="loading">Enviando...</p>
        </form>
        <script>
            document.getElementById('send').addEventListener('click', function(){
                
                var notice = document.getElementById('notice')
                var noticeF = document.getElementById('notice-falha')
                var email = document.getElementById('email')
                
                setTimeout(
                    function(){
                        
                        document.body.style.cursor='default'
                        document.getElementById('loading').style.display='none'


                        if (email.value.length <= 5 || email.value.indexOf('@') == -1){
                            noticeF.style.display='block'
                            setTimeout(function(){
                                noticeF.style.display='none'
                            }, 3000)
                        }
                        else if (email.value.indexOf('@') != -1){
                            notice.style.display='block'
                            setTimeout(function(){
                                notice.style.display='none'
                            }, 3000)
                        } 
                    }, 1000
                    )
                    document.body.style.cursor='wait'
                    document.getElementById('loading').style.display='block'                               
            })

        </script>
        <iframe src="https://docs.google.com/forms/d/e/1FAIpQLSfwbYPWebYtW83yYf6xT_K_Yhm9yF18bxh6LwcRIjgSUMDl5Q/formResponse?" style="display: none;" name="prox"></iframe>
    </div>    
</body>
</html>